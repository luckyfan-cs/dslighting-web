import{_ as s,c as a,o as e,ag as t}from"./chunks/framework.BHvMP3tD.js";const k=JSON.parse('{"title":"命令行工具 (CLI) 参考","description":"","frontmatter":{},"headers":[],"relativePath":"api/cli.md","filePath":"api/cli.md"}'),n={name:"api/cli.md"};function l(h,i,d,o,p,r){return e(),a("div",null,[...i[0]||(i[0]=[t(`<h1 id="命令行工具-cli-参考" tabindex="-1">命令行工具 (CLI) 参考 <a class="header-anchor" href="#命令行工具-cli-参考" aria-label="Permalink to &quot;命令行工具 (CLI) 参考&quot;">​</a></h1><p>除了 Python API，<code>dslighting</code> 还提供了一个功能强大的命令行接口（CLI），让您可以直接在终端中运行和管理基准测试。这对于将 <code>dslighting</code> 集成到自动化脚本或 CI/CD 流水线中特别有用。</p><h2 id="dslighting-run" tabindex="-1"><code>dslighting run</code> <a class="header-anchor" href="#dslighting-run" aria-label="Permalink to &quot;\`dslighting run\`&quot;">​</a></h2><p><code>dslighting run</code> 是核心命令，其功能与 Python API 中的 <code>dslighting.run()</code> 函数类似。它允许您通过命令行参数灵活地运行和覆盖 <code>benchmark.yml</code> 文件中的配置。</p><h3 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dslighting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [OPTIONS] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BENCHMARK_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><h3 id="位置参数" tabindex="-1">位置参数 <a class="header-anchor" href="#位置参数" aria-label="Permalink to &quot;位置参数&quot;">​</a></h3><ul><li><strong><code>BENCHMARK_PATH</code></strong>: [必需] 指向您要运行的 <code>benchmark.yml</code> 文件的路径。</li></ul><h3 id="选项-options" tabindex="-1">选项 (OPTIONS) <a class="header-anchor" href="#选项-options" aria-label="Permalink to &quot;选项 (OPTIONS)&quot;">​</a></h3><p>以下是常用的一些选项，它们可以用来覆盖 <code>benchmark.yml</code> 文件中的默认配置。</p><ul><li><p><strong><code>--task-id TEXT</code></strong>: 如果设置此项，将只运行 <code>benchmark.yml</code> 中具有指定 ID 的单个任务，而不是所有任务。</p></li><li><p><strong><code>--workflow TEXT</code></strong>: 覆盖任务中指定的 <code>workflow</code>。例如，您可以用 <code>--workflow aide</code> 来强制所有任务使用 <code>aide</code> 工作流。</p></li><li><p><strong><code>--intent TEXT</code></strong>: 覆盖任务中指定的 <code>intent</code>。</p></li><li><p><strong><code>--llm-model TEXT</code></strong>: 覆盖任务或全局配置中指定的 LLM 模型。例如 <code>--llm-model gpt-4-turbo</code>。</p></li><li><p><strong><code>--output-dir DIRECTORY</code></strong>: 指定输出目录的根路径。默认是在当前目录下创建一个 <code>output/</code> 文件夹。</p></li><li><p><strong><code>--config-file PATH</code></strong>: 指定一个全局配置文件 <code>config.yml</code> 的路径。</p></li><li><p><strong><code>-h</code>, <code>--help</code></strong>: 显示帮助信息。</p></li></ul><h2 id="使用示例" tabindex="-1">使用示例 <a class="header-anchor" href="#使用示例" aria-label="Permalink to &quot;使用示例&quot;">​</a></h2><h3 id="_1-运行一个完整的基准测试" tabindex="-1">1. 运行一个完整的基准测试 <a class="header-anchor" href="#_1-运行一个完整的基准测试" aria-label="Permalink to &quot;1. 运行一个完整的基准测试&quot;">​</a></h3><p>这是最常见的用法，等同于 <code>python -c &quot;import dslighting; dslighting.run(&#39;benchmark.yml&#39;)&quot;</code>。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dslighting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> path/to/your/benchmark.yml</span></span></code></pre></div><h3 id="_2-只运行基准测试中的单个任务" tabindex="-1">2. 只运行基准测试中的单个任务 <a class="header-anchor" href="#_2-只运行基准测试中的单个任务" aria-label="Permalink to &quot;2. 只运行基准测试中的单个任务&quot;">​</a></h3><p>假设您的 <code>benchmark.yml</code> 中定义了 <code>eda-task</code> 和 <code>training-task</code>，您可以使用 <code>--task-id</code> 只运行训练任务。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dslighting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --task-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> training-task</span></span></code></pre></div><h3 id="_3-在命令行中覆盖配置" tabindex="-1">3. 在命令行中覆盖配置 <a class="header-anchor" href="#_3-在命令行中覆盖配置" aria-label="Permalink to &quot;3. 在命令行中覆盖配置&quot;">​</a></h3><p>您可以利用命令行参数快速进行实验，而无需修改 YAML 文件。例如，尝试使用不同的 LLM 来执行同一个任务。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用 gpt-4-turbo 运行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dslighting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --task-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eda-task</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --llm-model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gpt-4-turbo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 换成 claude-3-opus 试试</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dslighting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --task-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eda-task</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --llm-model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> claude-3-opus</span></span></code></pre></div><h3 id="_4-指定输出目录" tabindex="-1">4. 指定输出目录 <a class="header-anchor" href="#_4-指定输出目录" aria-label="Permalink to &quot;4. 指定输出目录&quot;">​</a></h3><p>将所有运行结果统一存放在一个指定的文件夹中。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dslighting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark.yml</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/dslighting_runs</span></span></code></pre></div>`,24)])])}const g=s(n,[["render",l]]);export{k as __pageData,g as default};
